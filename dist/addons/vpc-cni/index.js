"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.VpcCniAddOn = void 0;
const utils_1 = require("../../utils");
const core_addon_1 = require("../core-addon");
const kubectl_provider_1 = require("../helm-addon/kubectl-provider");
const aws_eks_1 = require("aws-cdk-lib/aws-eks");
const versionMap = new Map([
    [aws_eks_1.KubernetesVersion.V1_29, "v1.16.0-eksbuild.1"],
    [aws_eks_1.KubernetesVersion.V1_28, "v1.15.1-eksbuild.1"],
    [aws_eks_1.KubernetesVersion.V1_27, "v1.15.1-eksbuild.1"],
    [aws_eks_1.KubernetesVersion.V1_26, "v1.15.1-eksbuild.1"],
]);
const defaultProps = {
    addOnName: 'vpc-cni',
    version: 'auto',
    versionMap: versionMap,
    saName: 'aws-node',
    namespace: 'kube-system',
    controlPlaneAddOn: false,
    configurationValues: {}
};
/**
 * Implementation of VpcCni EKS add-on with Advanced Configurations.
 */
let VpcCniAddOn = class VpcCniAddOn extends core_addon_1.CoreAddOn {
    constructor(props) {
        super({ ...defaultProps, ...props });
        this.vpcCniAddOnProps = { ...defaultProps, ...props };
        this.coreAddOnProps.configurationValues = populateVpcCniConfigurationValues(props);
    }
    deploy(clusterInfo) {
        var _a, _b;
        const cluster = clusterInfo.cluster;
        let securityGroupId = cluster.clusterSecurityGroupId;
        if ((_a = this.vpcCniAddOnProps.customNetworkingConfig) === null || _a === void 0 ? void 0 : _a.securityGroup) {
            securityGroupId = this.vpcCniAddOnProps.customNetworkingConfig.securityGroup.securityGroupId;
        }
        if (((_b = this.vpcCniAddOnProps.customNetworkingConfig) === null || _b === void 0 ? void 0 : _b.subnets)) {
            for (let subnet of this.vpcCniAddOnProps.customNetworkingConfig.subnets) {
                const doc = (0, utils_1.readYamlDocument)(__dirname + '/eniConfig.ytpl');
                const manifest = doc.split("---").map(e => (0, utils_1.loadYaml)(e));
                const values = {
                    availabilityZone: subnet.availabilityZone,
                    securityGroupId: securityGroupId,
                    subnetId: subnet.subnetId
                };
                const manifestDeployment = {
                    name: "EniCustomConfig" + subnet,
                    namespace: this.coreAddOnProps.namespace,
                    manifest,
                    values,
                };
                const kubectlProvider = new kubectl_provider_1.KubectlProvider(clusterInfo);
                kubectlProvider.addManifest(manifestDeployment);
            }
        }
        const addOnPromise = super.deploy(clusterInfo);
        return addOnPromise;
    }
    /**
     * Overrides the core method to provide managed policies.
     * @param _clusterInfo
     * @returns
     */
    provideManagedPolicies(_clusterInfo) {
        return this.vpcCniAddOnProps.serviceAccountPolicies;
    }
    /**
     * Overrides the core addon method in order to replace the SA if exists (which is the case for aws-node).
     * @param clusterInfo
     * @param saNamespace
     * @param policies
     * @returns
     */
    createServiceAccount(clusterInfo, saNamespace, policies) {
        const sa = new utils_1.ReplaceServiceAccount(clusterInfo.cluster, `${this.coreAddOnProps.saName}-sa`, {
            cluster: clusterInfo.cluster,
            name: this.coreAddOnProps.saName,
            namespace: saNamespace
        });
        policies.forEach(p => sa.role.addManagedPolicy(p));
        return sa;
    }
};
exports.VpcCniAddOn = VpcCniAddOn;
exports.VpcCniAddOn = VpcCniAddOn = __decorate([
    utils_1.supportsALL
], VpcCniAddOn);
function populateVpcCniConfigurationValues(props) {
    if (props === null) {
        return {};
    }
    const result = {
        env: {
            AWS_EC2_ENDPOINT: props === null || props === void 0 ? void 0 : props.awsEc2Endpoint,
            ADDITIONAL_ENI_TAGS: props === null || props === void 0 ? void 0 : props.additionalEniTags,
            ANNOTATE_POD_IP: props === null || props === void 0 ? void 0 : props.annotatePodIp,
            AWS_EXTERNAL_SERVICE_CIDR: props === null || props === void 0 ? void 0 : props.awsExternalServiceCidrs,
            AWS_MANAGE_ENIS_NON_SCHEDULABLE: props === null || props === void 0 ? void 0 : props.awsManageEnisNonSchedulable,
            AWS_VPC_CNI_NODE_PORT_SUPPORT: props === null || props === void 0 ? void 0 : props.awsVpcCniNodePortSupport,
            AWS_VPC_ENI_MTU: props === null || props === void 0 ? void 0 : props.awsVpcEniMtu,
            AWS_VPC_K8S_CNI_CUSTOM_NETWORK_CFG: props === null || props === void 0 ? void 0 : props.awsVpcK8sCniCustomNetworkCfg,
            AWS_VPC_K8S_CNI_EXCLUDE_SNAT_CIDRS: props === null || props === void 0 ? void 0 : props.awsVpcK8sExcludeSnatCidrs,
            ENI_CONFIG_LABEL_DEF: props === null || props === void 0 ? void 0 : props.eniConfigLabelDef,
            ENI_CONFIG_ANNOTATION_DEF: props === null || props === void 0 ? void 0 : props.eniConfigAnnotationDef,
            AWS_VPC_K8S_CNI_EXTERNALSNAT: props === null || props === void 0 ? void 0 : props.awsVpcK8sCniExternalSnat,
            AWS_VPC_K8S_CNI_LOGLEVEL: props === null || props === void 0 ? void 0 : props.awsVpcK8sCniLogLevel,
            AWS_VPC_K8S_CNI_LOG_FILE: props === null || props === void 0 ? void 0 : props.awsVpcK8sCniLogFile,
            AWS_VPC_K8S_CNI_RANDOMIZESNAT: props === null || props === void 0 ? void 0 : props.awsVpcK8sCniRandomizeSnat,
            AWS_VPC_K8S_CNI_VETHPREFIX: props === null || props === void 0 ? void 0 : props.awsVpcK8sCniVethPrefix,
            AWS_VPC_K8S_PLUGIN_LOG_FILE: props === null || props === void 0 ? void 0 : props.awsVpcK8sPluginLogFile,
            AWS_VPC_K8S_PLUGIN_LOG_LEVEL: props === null || props === void 0 ? void 0 : props.awsVpcK8sPluginLogLevel,
            CLUSTER_ENDPOINT: props === null || props === void 0 ? void 0 : props.clusterEndpoint,
            DISABLE_LEAKED_ENI_CLEANUP: props === null || props === void 0 ? void 0 : props.disableLeakedEniCleanup,
            DISABLE_INTROSPECTION: props === null || props === void 0 ? void 0 : props.disableIntrospection,
            DISABLE_METRICS: props === null || props === void 0 ? void 0 : props.disableMetrics,
            DISABLE_NETWORK_RESOURCE_PROVISIONING: props === null || props === void 0 ? void 0 : props.disablenetworkResourceProvisioning,
            DISABLE_TCP_EARLY_DEMUX: props === null || props === void 0 ? void 0 : props.disableTcpEarlyDemux,
            ENABLE_BANDWIDTH_PLUGIN: props === null || props === void 0 ? void 0 : props.enableBandwidthPlugin,
            ENABLE_NFTABLES: props === null || props === void 0 ? void 0 : props.enableNftables,
            ENABLE_POD_ENI: props === null || props === void 0 ? void 0 : props.enablePodEni,
            ENABLE_PREFIX_DELEGATION: props === null || props === void 0 ? void 0 : props.enablePrefixDelegation,
            ENABLE_V6_EGRESS: props === null || props === void 0 ? void 0 : props.enableV6Egress,
            INTROSPECTION_BIND_ADDRESS: props === null || props === void 0 ? void 0 : props.introspectionBindAddress,
            MAX_ENI: props === null || props === void 0 ? void 0 : props.maxEni,
            MINIMUM_IP_TARGET: props === null || props === void 0 ? void 0 : props.minimumIpTarget,
            POD_SECURITY_GROUP_ENFORCING_MODE: props === null || props === void 0 ? void 0 : props.podSecurityGroupEnforcingMode,
            WARM_ENI_TARGET: props === null || props === void 0 ? void 0 : props.warmEniTarget,
            WARM_IP_TARGET: props === null || props === void 0 ? void 0 : props.warmIpTarget,
            WARM_PREFIX_TARGET: props === null || props === void 0 ? void 0 : props.warmPrefixTarget,
        },
        enableNetworkPolicy: JSON.stringify(props === null || props === void 0 ? void 0 : props.enableNetworkPolicy),
        enableWindowsIpam: JSON.stringify(props === null || props === void 0 ? void 0 : props.enableWindowsIpam)
    };
    // clean up all undefined
    const values = result.env;
    Object.keys(values).forEach(key => values[key] === undefined ? delete values[key] : {});
    Object.keys(values).forEach(key => values[key] = typeof values[key] !== 'string' ? JSON.stringify(values[key]) : values[key]);
    return result;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9saWIvYWRkb25zL3ZwYy1jbmkvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBS0EsdUNBQTZGO0FBQzdGLDhDQUEwRDtBQUMxRCxxRUFBcUY7QUFDckYsaURBQXdEO0FBRXhELE1BQU0sVUFBVSxHQUFtQyxJQUFJLEdBQUcsQ0FBQztJQUN6RCxDQUFDLDJCQUFpQixDQUFDLEtBQUssRUFBRSxvQkFBb0IsQ0FBQztJQUMvQyxDQUFDLDJCQUFpQixDQUFDLEtBQUssRUFBRSxvQkFBb0IsQ0FBQztJQUMvQyxDQUFDLDJCQUFpQixDQUFDLEtBQUssRUFBRSxvQkFBb0IsQ0FBQztJQUMvQyxDQUFDLDJCQUFpQixDQUFDLEtBQUssRUFBRSxvQkFBb0IsQ0FBQztDQUNoRCxDQUFDLENBQUM7QUErU0gsTUFBTSxZQUFZLEdBQW1CO0lBQ25DLFNBQVMsRUFBRSxTQUFTO0lBQ3BCLE9BQU8sRUFBRSxNQUFNO0lBQ2YsVUFBVSxFQUFFLFVBQVU7SUFDdEIsTUFBTSxFQUFFLFVBQVU7SUFDbEIsU0FBUyxFQUFFLGFBQWE7SUFDeEIsaUJBQWlCLEVBQUUsS0FBSztJQUN4QixtQkFBbUIsRUFBRSxFQUFFO0NBQ3hCLENBQUM7QUFFRjs7R0FFRztBQUVJLElBQU0sV0FBVyxHQUFqQixNQUFNLFdBQVksU0FBUSxzQkFBUztJQUt4QyxZQUFZLEtBQXdCO1FBQ2xDLEtBQUssQ0FBQyxFQUFFLEdBQUcsWUFBWSxFQUFFLEdBQUcsS0FBSyxFQUFFLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsRUFBRSxHQUFHLFlBQVksRUFBRSxHQUFHLEtBQUssRUFBRSxDQUFDO1FBQ3JELElBQUksQ0FBQyxjQUFjLENBQUMsbUJBQTJCLEdBQUcsaUNBQWlDLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDOUYsQ0FBQztJQUVELE1BQU0sQ0FBQyxXQUF3Qjs7UUFDN0Is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LEtBQUssdUJBQUwsS0FBSyxDQUFFLFlBQVk7WUFDbkMsa0JBQWtCLEVBQUUsS0FBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLGdCQUFnQjtTQUM1QztRQUNELG1CQUFtQixFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLG1CQUFtQixDQUFDO1FBQy9ELGlCQUFpQixFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxhQUFMLEtBQUssdUJBQUwsS0FBSyxDQUFFLGlCQUFpQixDQUFDO0tBQzVELENBQUM7SUFFRix5QkFBeUI7SUFDekIsTUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQztJQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLE9BQU8sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUN4RixNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxPQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0lBRTlILE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJU2VjdXJpdHlHcm91cCwgSVN1Ym5ldCB9IGZyb20gXCJhd3MtY2RrLWxpYi9hd3MtZWMyXCI7XG5pbXBvcnQgKiBhcyBla3MgZnJvbSBcImF3cy1jZGstbGliL2F3cy1la3NcIjtcbmltcG9ydCAqIGFzIGlhbSBmcm9tIFwiYXdzLWNkay1saWIvYXdzLWlhbVwiO1xuaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnY29uc3RydWN0cyc7XG5pbXBvcnQgeyBDbHVzdGVySW5mbywgVmFsdWVzIH0gZnJvbSBcIi4uLy4uL3NwaVwiO1xuaW1wb3J0IHsgbG9hZFlhbWwsIHJlYWRZYW1sRG9jdW1lbnQsIFJlcGxhY2VTZXJ2aWNlQWNjb3VudCwgc3VwcG9ydHNBTEwgfSBmcm9tIFwiLi4vLi4vdXRpbHNcIjtcbmltcG9ydCB7IENvcmVBZGRPbiwgQ29yZUFkZE9uUHJvcHMgfSBmcm9tIFwiLi4vY29yZS1hZGRvblwiO1xuaW1wb3J0IHsgS3ViZWN0bFByb3ZpZGVyLCBNYW5pZmVzdERlcGxveW1lbnQgfSBmcm9tIFwiLi4vaGVsbS1hZGRvbi9rdWJlY3RsLXByb3ZpZGVyXCI7XG5pbXBvcnQgeyBLdWJlcm5ldGVzVmVyc2lvbiB9IGZyb20gXCJhd3MtY2RrLWxpYi9hd3MtZWtzXCI7XG5cbmNvbnN0IHZlcnNpb25NYXA6IE1hcDxLdWJlcm5ldGVzVmVyc2lvbiwgc3RyaW5nPiA9IG5ldyBNYXAoW1xuICBbS3ViZXJuZXRlc1ZlcnNpb24uVjFfMjksIFwidjEuMTYuMC1la3NidWlsZC4xXCJdLFxuICBbS3ViZXJuZXRlc1ZlcnNpb24uVjFfMjgsIFwidjEuMTUuMS1la3NidWlsZC4xXCJdLFxuICBbS3ViZXJuZXRlc1ZlcnNpb24uVjFfMjcsIFwidjEuMTUuMS1la3NidWlsZC4xXCJdLFxuICBbS3ViZXJuZXRlc1ZlcnNpb24uVjFfMjYsIFwidjEuMTUuMS1la3NidWlsZC4xXCJdLFxuXSk7XG5cbi8qKlxuICogVXNlciBwcm92aWRlZCBvcHRpb24gZm9yIHRoZSBIZWxtIENoYXJ0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVnBjQ25pQWRkT25Qcm9wcyB7XG5cbiAgLyoqXG4gICAqIGBBRERJVElPTkFMX0VOSV9UQUdTYCBFbnZpcm9ubWVudCBWYXJpYWJsZS4gVHlwZTogU3RyaW5nLlxuICAgKiBNZXRhZGF0YSBhcHBsaWVkIHRvIEVOSSBoZWxwcyB5b3UgY2F0ZWdvcml6ZSBhbmQgb3JnYW5pemUgeW91ciBcbiAgICogcmVzb3VyY2VzIGZvciBiaWxsaW5nIG9yIG90aGVyIHB1cnBvc2VzLiBcbiAgICovXG4gIGFkZGl0aW9uYWxFbmlUYWdzPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBgQU5OT1RBVEVfUE9EX0lQYCBFbnZpcm9ubWVudCBWYXJpYWJsZS4gVHlwZTogQm9vbGVhbi5cbiAgICogU2V0dGluZyBBTk5PVEFURV9QT0RfSVAgdG8gdHJ1ZSB3aWxsIGFsbG93IElQQU1EIHRvIGFkZCBhbiBhbm5vdGF0aW9uIFxuICAgKiB2cGMuYW1hem9uYXdzLmNvbS9wb2QtaXBzIHRvIHRoZSBwb2Qgd2l0aCBwb2QgSVAuXG4gICAqL1xuICBhbm5vdGF0ZVBvZElwPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogYEFXU19FQzJfRU5EUE9JTlRgIEVudmlyb25tZW50IFZhcmlhYmxlLiBUeXBlOiBzdHJpbmcuXG4gICAqIFNwZWNpZmllcyB0aGUgRUMyIGVuZHBvaW50IHRvIHVzZS4gVGhpcyBpcyB1c2VmdWwgaWYgeW91IFxuICAgKiBhcmUgdXNpbmcgYSBjdXN0b20gZW5kcG9pbnQgZm9yIEVDMi4gIFxuICAgKi9cbiAgYXdzRWMyRW5kcG9pbnQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIGBBV1NfRVhURVJOQUxfU0VSVklDRV9DSURSU2AgRW52aXJvbm1lbnQgVmFyaWFibGUuIFR5cGU6IHN0cmluZy5cbiAgICogU3BlY2lmeSBhIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIElQdjQgQ0lEUnMgdGhhdCBtdXN0IGJlIHJvdXRlZCBcbiAgICogdmlhIG1haW4gcm91dGluZyB0YWJsZS4gVGhpcyBpcyByZXF1aXJlZCBmb3Igc2Vjb25kYXJ5IEVOSXMgdG8gcmVhY2ggXG4gICAqIGVuZHBvaW50cyBvdXRzaWRlIG9mIFZQQyB0aGF0IGFyZSBiYWNrZWQgYnkgYSBzZXJ2aWNlLiBcbiAgICovXG4gIGF3c0V4dGVybmFsU2VydmljZUNpZHJzPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBgQVdTX01BTkFHRV9FTklTX05PTl9TQ0hFRFVMQUJMRWAgRW52aXJvbm1lbnQgVmFyaWFibGUuIFR5cGU6IEJvb2xlYW4uXG4gICAqIFNwZWNpZmllcyB3aGV0aGVyIElQQU1EIHNob3VsZCBhbGxvY2F0ZSBvciBkZWFsbG9jYXRlIEVOSXMgb24gYSBub24tc2NoZWR1bGFibGUgXG4gICAqIG5vZGUuXG4gICAqL1xuICBhd3NNYW5hZ2VFbmlzTm9uU2NoZWR1bGFibGU/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBgQVdTX1ZQQ19DTklfTk9ERV9QT1JUX1NVUFBPUlRgIEVudmlyb25tZW50IFZhcmlhYmxlLiBUeXBlOiBCb29sZWFuLlxuICAgKiBTcGVjaWZpZXMgd2hldGhlciBOb2RlUG9ydCBzZXJ2aWNlcyBhcmUgZW5hYmxlZCBvbiBhIHdvcmtlciBub2RlJ3MgcHJpbWFyeSBcbiAgICogbmV0d29yayBpbnRlcmZhY2UuIFxuICAgKi9cbiAgYXdzVnBjQ25pTm9kZVBvcnRTdXBwb3J0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogYEFXU19WUENfRU5JX01UVWAgRW52aXJvbm1lbnQgVmFyaWFibGUuIFR5cGU6IEludGVnZXIuXG4gICAqIFVzZWQgdG8gY29uZmlndXJlIHRoZSBNVFUgc2l6ZSBmb3IgYXR0YWNoZWQgRU5Jcy4gVGhlIHZhbGlkIHJhbmdlIGlzIFxuICAgKiBmcm9tIDU3NiB0byA5MDAxLlxuICAgKi9cbiAgYXdzVnBjRW5pTXR1PzogbnVtYmVyO1xuXG4gIC8qKlxuICAqIGBBV1NfVlBDX0s4U19DTklfQ1VTVE9NX05FVFdPUktfQ0ZHYCBFbnZpcm9ubWVudCBWYXJpYWJsZS4gVHlwZTogQm9vbGVhbi5cbiAgKiBTcGVjaWZpZXMgdGhhdCB5b3VyIHBvZHMgbWF5IHVzZSBzdWJuZXRzIGFuZCBzZWN1cml0eSBncm91cHMgdGhhdCBhcmUgXG4gICogaW5kZXBlbmRlbnQgb2YgeW91ciB3b3JrZXIgbm9kZSdzIFZQQyBjb25maWd1cmF0aW9uLlxuICAqL1xuICBhd3NWcGNLOHNDbmlDdXN0b21OZXR3b3JrQ2ZnPzogYm9vbGVhbjtcblxuICAvKipcbiAgKiBgQVdTX1ZQQ19LOFNfQ05JX1ZFVEhQUkVGSVhgIEVudmlyb25tZW50IFZhcmlhYmxlLiBUeXBlOiBTdHJpbmcuXG4gICogU3BlY2lmaWVzIHRoZSB2ZXRoIHByZWZpeCB1c2VkIHRvIGdlbmVyYXRlIHRoZSBob3N0LXNpZGUgdmV0aCBkZXZpY2UgbmFtZSBcbiAgKiBmb3IgdGhlIENOSS5cbiAgKi9cbiAgYXdzVnBjSzhzQ25pVmV0aFByZWZpeD86IHN0cmluZztcblxuICAvKipcbiAgKiBgQVdTX1ZQQ19LOFNfQ05JX0VYQ0xVREVfU05BVF9DSURSU2AgRW52aXJvbm1lbnQgVmFyaWFibGUuIFR5cGU6IFN0cmluZy5cbiAgU3BlY2lmeSBhIGNvbW1hLXNlcGFyYXRlZCBsaXN0IG9mIElQdjQgQ0lEUnMgdG8gZXhjbHVkZSBmcm9tIFNOQVQuXG4gICovXG4gIGF3c1ZwY0s4c0V4Y2x1ZGVTbmF0Q2lkcnM/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICogYEFXU19WUENfSzhTX0NOSV9MT0dMRVZFTGAgRW52aXJvbm1lbnQgVmFyaWFibGUuIFR5cGU6IFN0cmluZy5cbiAgKiBTcGVjaWZpZXMgdGhlIGxvZ2xldmVsIGZvciBpcGFtZCBhbmQgY25pLW1ldHJpYy1oZWxwZXIuXG4gICovXG4gIGF3c1ZwY0s4c0NuaUxvZ0xldmVsPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBgQVdTX1ZQQ19LOFNfQ05JX0xPR19GSUxFYCBFbnZpcm9ubWVudCBWYXJpYWJsZS4gVHlwZTogU3RyaW5nLlxuICAgKiBTcGVjaWZpZXMgd2hlcmUgdG8gd3JpdGUgdGhlIGxvZ2dpbmcgb3V0cHV0IG9mIGlwYW1kLiBFaXRoZXIgdG8gc3Rkb3V0IFxuICAgKiBvciB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBmaWxlIChpLmUuLCAvdmFyL2xvZy9hd3Mtcm91dGVkLWVuaS9pcGFtZC5sb2cpLlxuICAgKi9cbiAgYXdzVnBjSzhzQ25pTG9nRmlsZT86IHN0cmluZztcblxuICAvKipcbiAgICogYEFXU19WUENfSzhTX0NOSV9SQU5ET01JWkVTTkFUYCBFbnZpcm9ubWVudCBWYXJpYWJsZS4gVHlwZTogU3RyaW5nLlxuICAgKiBTcGVjaWZpZXMgd2hldGhlciB0aGUgU05BVCBpcHRhYmxlcyBydWxlIHNob3VsZCByYW5kb21pemUgdGhlIG91dGdvaW5nIFxuICAgKiBwb3J0cyBmb3IgY29ubmVjdGlvbnMuXG4gICAqL1xuICBhd3NWcGNLOHNDbmlSYW5kb21pemVTbmF0Pzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBgQVdTX1ZQQ19LOFNfQ05JX0VYVEVSTkFMU05BVGAgRW52aXJvbm1lbnQgVmFyaWFibGUuIFR5cGU6IEJvb2xlYW4uXG4gICAqIFNwZWNpZmllcyB3aGV0aGVyIGFuIGV4dGVybmFsIE5BVCBnYXRld2F5IHNob3VsZCBiZSB1c2VkIHRvIHByb3ZpZGUgU05BVCBcbiAgICogb2Ygc2Vjb25kYXJ5IEVOSSBJUCBhZGRyZXNzZXMuXG4gICAqL1xuICBhd3NWcGNLOHNDbmlFeHRlcm5hbFNuYXQ/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBgQVdTX1ZQQ19LOFNfUExVR0lOX0xPR19GSUxFYCBFbnZpcm9ubWVudCBWYXJpYWJsZS4gVHlwZTogU3RyaW5nLlxuICAgKiBTcGVjaWZpZXMgd2hlcmUgdG8gd3JpdGUgdGhlIGxvZ2dpbmcgb3V0cHV0IGZvciBhd3MtY25pIHBsdWdpbi4gXG4gICAqL1xuICBhd3NWcGNLOHNQbHVnaW5Mb2dGaWxlPzogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBgQVdTX1ZQQ19LOFNfUExVR0lOX0xPR19MRVZFTGAgRW52aXJvbm1lbnQgVmFyaWFibGUuIFR5cGU6IFN0cmluZy5cbiAgICogU3BlY2lmaWVzIHRoZSBsb2dsZXZlbCBmb3IgYXdzLWNuaSBwbHVnaW4uXG4gICAqL1xuICBhd3NWcGNLOHNQbHVnaW5Mb2dMZXZlbD86IHN0cmluZztcblxuICAvKipcbiAgICogYENMVVNURVJfRU5EUE9JTlRgIEVudmlyb25tZW50IFZhcmlhYmxlLiBUeXBlOiBTdHJpbmcuXG4gICAqIFNwZWNpZmllcyB0aGUgY2x1c3RlciBlbmRwb2ludCB0byB1c2UgZm9yIGNvbm5lY3RpbmcgdG8gXG4gICAqIHRoZSBhcGktc2VydmVyIHdpdGhvdXQgcmVseWluZyBvbiBrdWJlLXByb3h5LiBcbiAgICovXG4gIGNsdXN0ZXJFbmRwb2ludD86IHN0cmluZztcblxuICAvKipcbiAgICogQ3VzdG9tTmV0d29ya2luZ0NvbmZpZyBob2xkaW5nIFNlY29uZGFyeSBTdWJuZXQgSURzIGZvciBjcmVhdGluZyBgRU5JQ29uZmlnYFxuICAgKi9cbiAgY3VzdG9tTmV0d29ya2luZ0NvbmZpZz86IEN1c3RvbU5ldHdvcmtpbmdDb25maWc7XG5cbiAgLyoqXG4gICAqIGBESVNBQkxFX0xFQUtFRF9FTklfQ0xFQU5VUGAgRW52aXJvbm1lbnQgVmFyaWFibGUuIFR5cGU6IEJvb2xlYW4uXG4gICAqL1xuICBkaXNhYmxlTGVha2VkRW5pQ2xlYW51cD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIGBESVNBQkxFX0lOVFJPU1BFQ1RJT05gIEVudmlyb25tZW50IFZhcmlhYmxlLiBUeXBlOiBCb29sZWFuLlxuICAgKi9cbiAgZGlzYWJsZUludHJvc3BlY3Rpb24/OiBib29sZWFuO1xuXG4gIC8qKlxuICAqIGBESVNBQkxFX01FVFJJQ1NgIEVudmlyb25tZW50IFZhcmlhYmxlLiBUeXBlOiBCb29sZWFuLlxuICAqIFNwZWNpZmllcyB3aGV0aGVyIHRoZSBwcm9tZXRoZXVzIG1ldHJpY3MgZW5kcG9pbnQgaXMgZGlzYWJsZWQgb3Igbm90IGZvciBcbiAgKiBpcGFtZC4gQnkgZGVmYXVsdCBtZXRyaWNzIGFyZSBwdWJsaXNoZWQgb24gOjYxNjc4L21ldHJpY3MuXG4gICovXG4gIGRpc2FibGVNZXRyaWNzPzogYm9vbGVhbjtcblxuICAvKipcbiAgKiBgRElTQUJMRV9ORVRXT1JLX1JFU09VUkNFX1BST1ZJU0lPTklOR2AgRW52aXJvbm1lbnQgVmFyaWFibGUuIFR5cGU6IEJvb2xlYW4uXG4gICogU2V0dGluZyBESVNBQkxFX05FVFdPUktfUkVTT1VSQ0VfUFJPVklTSU9OSU5HIHRvIHRydWUgd2lsbCBtYWtlIElQQU1EIFxuICAqIGRlcGVuZCBvbmx5IG9uIElNRFMgdG8gZ2V0IGF0dGFjaGVkIEVOSXMgYW5kIElQcy9wcmVmaXhlcy5cbiAgKi9cbiAgZGlzYWJsZW5ldHdvcmtSZXNvdXJjZVByb3Zpc2lvbmluZz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICogYERJU0FCTEVfVENQX0VBUkxZX0RFTVVYYCBFbnZpcm9ubWVudCBWYXJpYWJsZS4gVHlwZTogQm9vbGVhbi5cbiAgKiBJZiBFTkFCTEVfUE9EX0VOSSBpcyBzZXQgdG8gdHJ1ZSwgZm9yIHRoZSBrdWJlbGV0IHRvIGNvbm5lY3QgdmlhIFRDUFxuICAqIHRvIHBvZHMgdGhhdCBhcmUgdXNpbmcgcGVyIHBvZCBzZWN1cml0eSBncm91cHMsIERJU0FCTEVfVENQX0VBUkxZX0RFTVVYIFxuICAqIHNob3VsZCBiZSBzZXQgdG8gdHJ1ZSBmb3IgYW1hem9uLWs4cy1jbmktaW5pdCB0aGUgY29udGFpbmVyIHVuZGVyIGluaXRjb250YWluZXJzLlxuICAqL1xuICBkaXNhYmxlVGNwRWFybHlEZW11eD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICogYEVOQUJMRV9CQU5EV0lEVEhfUExVR0lOYCBFbnZpcm9ubWVudCBWYXJpYWJsZS4gVHlwZTogQm9vbGVhbi5cbiAgKiBTZXR0aW5nIEVOQUJMRV9CQU5EV0lEVEhfUExVR0lOIHRvIHRydWUgd2lsbCB1cGRhdGUgMTAtYXdzLmNvbmZsaXN0IHRvIFxuICAqIGluY2x1ZGUgdXBzdHJlYW0gYmFuZHdpZHRoIHBsdWdpbiBhcyBhIGNoYWluZWQgcGx1Z2luLlxuICAqL1xuICBlbmFibGVCYW5kd2lkdGhQbHVnaW4/OiBib29sZWFuO1xuXG4gIC8qKlxuICAqIGBFTkFCTEVfTkZUQUJMRVNgIEVudmlyb25tZW50IFZhcmlhYmxlLiBUeXBlOiBCb29sZWFuLlxuICAqIFZQQyBDTkkgdXNlcyBpcHRhYmxlcy1sZWdhY3kgYnkgZGVmYXVsdC4gU2V0dGluZyBFTkFCTEVfTkZUQUJMRVMgXG4gICogdG8gdHJ1ZSB3aWxsIHVwZGF0ZSBWUEMgQ05JIHRvIHVzZSBpcHRhYmxlcy1uZnRcbiAgKi9cbiAgZW5hYmxlTmZ0YWJsZXM/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBgRU5BQkxFX1BPRF9FTklgIEVudmlyb25tZW50IFZhcmlhYmxlLiBUeXBlOiBCb29sZWFuLlxuICAqIFNldHRpbmcgRU5BQkxFX1BPRF9FTkkgdG8gdHJ1ZSB3aWxsIGFsbG93IElQQU1EIHRvIGFkZCB0aGUgXG4gICogdnBjLmFtYXpvbmF3cy5jb20vaGFzLXRydW5rLWF0dGFjaGVkIGxhYmVsIHRvIHRoZSBub2RlIGlmIHRoZSBpbnN0YW5jZSBcbiAgKiBoYXMgdGhlIGNhcGFjaXR5IHRvIGF0dGFjaCBhbiBhZGRpdGlvbmFsIEVOSS5cbiAgKi9cbiAgZW5hYmxlUG9kRW5pPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogYEVOQUJMRV9QUkVGSVhfREVMRUdBVElPTmAgRW52aXJvbm1lbnQgVmFyaWFibGUuIFR5cGU6IEJvb2xlYW4uXG4gICAqIFRvIGVuYWJsZSBwcmVmaXggZGVsZWdhdGlvbiBvbiBuaXRybyBpbnN0YW5jZXMuIFNldHRpbmcgXG4gICAqIEVOQUJMRV9QUkVGSVhfREVMRUdBVElPTiB0byB0cnVlIHdpbGwgc3RhcnQgYWxsb2NhdGluZyBhIHByZWZpeCAoLzI4IGZvciBJUHY0IGFuZCAvODAgZm9yIElQdjYpIGluc3RlYWQgb2YgYSBzZWNvbmRhcnkgSVAgaW4gdGhlIEVOSXMgc3VibmV0LiBcbiAgKi9cbiAgZW5hYmxlUHJlZml4RGVsZWdhdGlvbj86IGJvb2xlYW47XG5cbiAgLyoqXG4gICogYEVOQUJMRV9WNl9FR1JFU1NgIEVudmlyb25tZW50IFZhcmlhYmxlLiBUeXBlOiBCb29sZWFuLlxuICAqIFNwZWNpZmllcyB3aGV0aGVyIFBPRHMgaW4gYW4gSVB2NCBjbHVzdGVyIHN1cHBvcnQgSVB2NiBlZ3Jlc3MuIFxuICAqIElmIGVudiBpcyBzZXQgdG8gdHJ1ZSwgcmFuZ2UgZmQwMDo6YWM6MDAvMTE4IGlzIHJlc2VydmVkIGZvciBJUHY2IGVncmVzcy5cbiAgKi9cbiAgZW5hYmxlVjZFZ3Jlc3M/OiBib29sZWFuO1xuXG4gIC8qKlxuICAqIGBFTklfQ09ORklHX0xBQkVMX0RFRmAgRW52aXJvbm1lbnQgVmFyaWFibGUuIFR5cGU6IFN0cmluZy5cbiAgKiBTcGVjaWZpZXMgbm9kZSBsYWJlbCBrZXkgbmFtZS4gVGhpcyBzaG91bGQgYmUgdXNlZCB3aGVuIFxuICAqIEFXU19WUENfSzhTX0NOSV9DVVNUT01fTkVUV09SS19DRkc9dHJ1ZS5cbiAgKi9cbiAgZW5pQ29uZmlnTGFiZWxEZWY/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIGBFTklfQ09ORklHX0FOTk9UQVRJT05fREVGYCBFbnZpcm9ubWVudCBWYXJpYWJsZS4gVHlwZTogU3RyaW5nLiBcbiAgICogU3BlY2lmaWVzIG5vZGUgYW5ub3RhdGlvbiBrZXkgbmFtZS4gVGhpcyBzaG91bGQgYmUgdXNlZCB3aGVuIFxuICAgKiBBV1NfVlBDX0s4U19DTklfQ1VTVE9NX05FVFdPUktfQ0ZHPXRydWVcbiAgKi9cbiAgZW5pQ29uZmlnQW5ub3RhdGlvbkRlZj86IHN0cmluZztcblxuICAvKipcbiAgICogYElOVFJPU1BFQ1RJT05fQklORF9BRERSRVNTYCBFbnZpcm9ubWVudCBWYXJpYWJsZS4gVHlwZTogU3RyaW5nLiBcbiAgICogU3BlY2lmaWVzIHRoZSBiaW5kIGFkZHJlc3MgZm9yIHRoZSBpbnRyb3NwZWN0aW9uIGVuZHBvaW50LlxuICAqL1xuICBpbnRyb3NwZWN0aW9uQmluZEFkZHJlc3M/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICogYE1BWF9FTklgIEVudmlyb25tZW50IFZhcmlhYmxlLiBGb3JtYXQgaW50ZWdlci5cbiAgKiBTcGVjaWZpZXMgdGhlIG1heGltdW0gbnVtYmVyIG9mIEVOSXMgdGhhdCB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBub2RlLiBcbiAgKi9cbiAgbWF4RW5pPzogbnVtYmVyO1xuXG4gIC8qKlxuICAqIGBNSU5JTVVNX0lQX1RBUkdFVGAgRW52aXJvbm1lbnQgVmFyaWFibGUuIEZvcm1hdCBpbnRlZ2VyLlxuICAqIFNwZWNpZmllcyB0aGUgbnVtYmVyIG9mIHRvdGFsIElQIGFkZHJlc3NlcyB0aGF0IHRoZSBpcGFtZCBcbiAgKiBkYWVtb24gc2hvdWxkIGF0dGVtcHQgdG8gYWxsb2NhdGUgZm9yIHBvZCBhc3NpZ25tZW50IG9uIHRoZSBub2RlLlxuICAqL1xuICBtaW5pbXVtSXBUYXJnZXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIGBQT0RfU0VDVVJJVFlfR1JPVVBfRU5GT1JDSU5HX01PREVgIEVudmlyb25tZW50IFZhcmlhYmxlLiBUeXBlOiBTdHJpbmcuIFxuICAgKiBPbmNlIEVOQUJMRV9QT0RfRU5JIGlzIHNldCB0byB0cnVlLCB0aGlzIHZhbHVlIGNvbnRyb2xzIGhvdyB0aGUgdHJhZmZpYyBcbiAgICogb2YgcG9kcyB3aXRoIHRoZSBzZWN1cml0eSBncm91cCBiZWhhdmVzLlxuICAqL1xuICBwb2RTZWN1cml0eUdyb3VwRW5mb3JjaW5nTW9kZT86IHN0cmluZztcblxuICAvKipcbiAgKiBgV0FSTV9FTklfVEFSR0VUYCBFbnZpcm9ubWVudCBWYXJpYWJsZS4gRm9ybWF0IGludGVnZXIuXG4gICogU3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgZnJlZSBlbGFzdGljIG5ldHdvcmsgaW50ZXJmYWNlcyAoYW5kIGFsbCBvZiB0aGVpciBcbiAgKiBhdmFpbGFibGUgSVAgYWRkcmVzc2VzKSB0aGF0IHRoZSBpcGFtZCBkYWVtb24gc2hvdWxkIGF0dGVtcHQgdG8ga2VlcCBcbiAgKiBhdmFpbGFibGUgZm9yIHBvZCBhc3NpZ25tZW50IG9uIHRoZSBub2RlLiBcbiAgKi9cbiAgd2FybUVuaVRhcmdldD86IG51bWJlcjtcblxuICAvKipcbiAgKiBgV0FSTV9JUF9UQVJHRVRgIEVudmlyb25tZW50IFZhcmlhYmxlLiBGb3JtYXQgaW50ZWdlci5cbiAgKiBTcGVjaWZpZXMgdGhlIG51bWJlciBvZiBmcmVlIElQIGFkZHJlc3NlcyB0aGF0IHRoZSBpcGFtZCBkYWVtb24gXG4gICogc2hvdWxkIGF0dGVtcHQgdG8ga2VlcCBhdmFpbGFibGUgZm9yIHBvZCBhc3NpZ25tZW50IG9uIHRoZSBub2RlLlxuICAqL1xuICB3YXJtSXBUYXJnZXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICogYFdBUk1fUFJFRklYX1RBUkdFVGAgRW52aXJvbm1lbnQgVmFyaWFibGUuIEZvcm1hdCBpbnRlZ2VyLlxuICAqIFNwZWNpZmllcyB0aGUgbnVtYmVyIG9mIGZyZWUgSVB2NCgvMjgpIHByZWZpeGVzIHRoYXQgdGhlIGlwYW1kIGRhZW1vbiBcbiAgKiBzaG91bGQgYXR0ZW1wdCB0byBrZWVwIGF2YWlsYWJsZSBmb3IgcG9kIGFzc2lnbm1lbnQgb24gdGhlIG5vZGUuXG4gICovXG4gIHdhcm1QcmVmaXhUYXJnZXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIElmIHNwZWNpZmllZCwgYW4gSVJTQSBhY2NvdW50IHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhlIFZQQy1DTkkgYWRkLW9uIHdpdGggdGhlIElSU0Egcm9sZVxuICAgKiBoYXZpbmcgdGhlIHNwZWNpZmllZCBtYW5hZ2VkIHBvbGljaWVzLiBXaGVuIHNwZWNpZmllZCwgdGhlIG5vZGUgcm9sZSBmb3IgdGhlIGNsdXN0ZXIgcHJvdmlkZXIgY2FuIGJlIGNvbmZpZ3VyZWQgXG4gICAqIHdpdGhvdXQgdGhlIENOSSBwb2xpY3kuIFxuICAgKiBcbiAgICogRm9yIElQdjQgdGhlIHJlcXVpcmVkIG1hbmFnZWQgcG9saWN5IGlzIEFtYXpvbkVLU19DTklfUG9saWN5LlxuICAgKiBAZXhhbXBsZVxuICAgKiBzZXJ2aWNlQWNjb3VudFBvbGljaWVzOiBbTWFuYWdlZFBvbGljeS5mcm9tQXdzTWFuYWdlZFBvbGljeU5hbWUoXCJBbWF6b25FS1NfQ05JX1BvbGljeVwiKV1cbiAgICogXG4gICAqL1xuICBzZXJ2aWNlQWNjb3VudFBvbGljaWVzPzogaWFtLklNYW5hZ2VkUG9saWN5W107XG5cbiAgLyoqXG4gICAqIEVuYWJsZSBrdWJlcm5ldGVzIG5ldHdvcmsgcG9saWN5IGluIHRoZSBWUEMgQ05JIGludHJvZHVjZWQgaW4gdnBjLWNuaSAxLjE0XG4gICAqIE1vcmUgaW5mb3JtYXRvbiBvbiBvZmZpY2lhbCBBV1MgZG9jdW1lbnRhdGlvbjogaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2Vrcy9sYXRlc3QvdXNlcmd1aWRlL2NuaS1uZXR3b3JrLXBvbGljeS5odG1sXG4gICAqIFxuICAgKi9cbiAgZW5hYmxlTmV0d29ya1BvbGljeT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIEVuYWJsZSB3aW5kb3dzIHN1cHBvcnQgZm9yIHlvdXIgY2x1c3RlclxuICAgKiBcbiAgICovXG4gIGVuYWJsZVdpbmRvd3NJcGFtPzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVmVyc2lvbiBvZiB0aGUgYWRkLW9uIHRvIHVzZS4gTXVzdCBtYXRjaCB0aGUgdmVyc2lvbiBvZiB0aGUgY2x1c3RlciB3aGVyZSBpdFxuICAgKiB3aWxsIGJlIGRlcGxveWVkLlxuICAgKi9cblxuICB2ZXJzaW9uPzogc3RyaW5nO1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3VzdG9tTmV0d29ya2luZ0NvbmZpZyB7XG4gIC8qKlxuICAgKiBTZWNvbmRhcnkgc3VibmV0cyBvZiB5b3VyIFZQQ1xuICAgKi9cbiAgcmVhZG9ubHkgc3VibmV0cz86IElTdWJuZXRbXTtcbiAgLyoqXG4gICAqIFNlY3VyaXR5IGdyb3VwIG9mIHNlY29uZGFyeSBFTklcbiAgICovXG4gIHJlYWRvbmx5IHNlY3VyaXR5R3JvdXA/OiBJU2VjdXJpdHlHcm91cDtcbn1cblxuY29uc3QgZGVmYXVsdFByb3BzOiBDb3JlQWRkT25Qcm9wcyA9IHtcbiAgYWRkT25OYW1lOiAndnBjLWNuaScsXG4gIHZlcnNpb246ICdhdXRvJyxcbiAgdmVyc2lvbk1hcDogdmVyc2lvbk1hcCxcbiAgc2FOYW1lOiAnYXdzLW5vZGUnLFxuICBuYW1lc3BhY2U6ICdrdWJlLXN5c3RlbScsXG4gIGNvbnRyb2xQbGFuZUFkZE9uOiBmYWxzZSxcbiAgY29uZmlndXJhdGlvblZhbHVlczoge31cbn07XG5cbi8qKlxuICogSW1wbGVtZW50YXRpb24gb2YgVnBjQ25pIEVLUyBhZGQtb24gd2l0aCBBZHZhbmNlZCBDb25maWd1cmF0aW9ucy5cbiAqL1xuQHN1cHBvcnRzQUxMXG5leHBvcnQgY2xhc3MgVnBjQ25pQWRkT24gZXh0ZW5kcyBDb3JlQWRkT24ge1xuXG4gIHJlYWRvbmx5IHZwY0NuaUFkZE9uUHJvcHM6IFZwY0NuaUFkZE9uUHJvcHM7XG4gIHJlYWRvbmx5IGlkPzogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzPzogVnBjQ25pQWRkT25Qcm9wcykge1xuICAgIHN1cGVyKHsgLi4uZGVmYXVsdFByb3BzLCAuLi5wcm9wcyB9KTtcbiAgICB0aGlzLnZwY0NuaUFkZE9uUHJvcHMgPSB7IC4uLmRlZmF1bHRQcm9wcywgLi4ucHJvcHMgfTtcbiAgICAodGhpcy5jb3JlQWRkT25Qcm9wcy5jb25maWd1cmF0aW9uVmFsdWVzIGFzIGFueSkgPSBwb3B1bGF0ZVZwY0NuaUNvbmZpZ3VyYXRpb25WYWx1ZXMocHJvcHMpO1xuICB9XG5cbiAgZGVwbG95KGNsdXN0ZXJJbmZvOiBDbHVzdGVySW5mbyk6IFByb21pc2U8Q29uc3RydWN0PiB7XG4gICAgY29uc3QgY2x1c3RlciA9IGNsdXN0ZXJJbmZvLmNsdXN0ZXI7XG4gICAgbGV0IHNlY3VyaXR5R3JvdXBJZCA9IGNsdXN0ZXIuY2x1c3RlclNlY3VyaXR5R3JvdXBJZDtcblxuICAgIGlmICh0aGlzLnZwY0NuaUFkZE9uUHJvcHMuY3VzdG9tTmV0d29ya2luZ0NvbmZpZz8uc2VjdXJpdHlHcm91cCkge1xuICAgICAgc2VjdXJpdHlHcm91cElkID0gdGhpcy52cGNDbmlBZGRPblByb3BzLmN1c3RvbU5ldHdvcmtpbmdDb25maWcuc2VjdXJpdHlHcm91cC5zZWN1cml0eUdyb3VwSWQ7XG4gICAgfVxuXG4gICAgaWYgKCh0aGlzLnZwY0NuaUFkZE9uUHJvcHMuY3VzdG9tTmV0d29ya2luZ0NvbmZpZz8uc3VibmV0cykpIHtcbiAgICAgIGZvciAobGV0IHN1Ym5ldCBvZiB0aGlzLnZwY0NuaUFkZE9uUHJvcHMuY3VzdG9tTmV0d29ya2luZ0NvbmZpZy5zdWJuZXRzKSB7XG4gICAgICAgIGNvbnN0IGRvYyA9IHJlYWRZYW1sRG9jdW1lbnQoX19kaXJuYW1lICsgJy9lbmlDb25maWcueXRwbCcpO1xuICAgICAgICBjb25zdCBtYW5pZmVzdCA9IGRvYy5zcGxpdChcIi0tLVwiKS5tYXAoZSA9PiBsb2FkWWFtbChlKSk7XG4gICAgICAgIGNvbnN0IHZhbHVlczogVmFsdWVzID0ge1xuICAgICAgICAgIGF2YWlsYWJpbGl0eVpvbmU6IHN1Ym5ldC5hdmFpbGFiaWxpdHlab25lLFxuICAgICAgICAgIHNlY3VyaXR5R3JvdXBJZDogc2VjdXJpdHlHcm91cElkLFxuICAgICAgICAgIHN1Ym5ldElkOiBzdWJuZXQuc3VibmV0SWRcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgbWFuaWZlc3REZXBsb3ltZW50OiBNYW5pZmVzdERlcGxveW1lbnQgPSB7XG4gICAgICAgICAgbmFtZTogXCJFbmlDdXN0b21Db25maWdcIiArIHN1Ym5ldCxcbiAgICAgICAgICBuYW1lc3BhY2U6IHRoaXMuY29yZUFkZE9uUHJvcHMubmFtZXNwYWNlISxcbiAgICAgICAgICBtYW5pZmVzdCxcbiAgICAgICAgICB2YWx1ZXMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGt1YmVjdGxQcm92aWRlciA9IG5ldyBLdWJlY3RsUHJvdmlkZXIoY2x1c3RlckluZm8pO1xuICAgICAgICBrdWJlY3RsUHJvdmlkZXIuYWRkTWFuaWZlc3QobWFuaWZlc3REZXBsb3ltZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYWRkT25Qcm9taXNlID0gc3VwZXIuZGVwbG95KGNsdXN0ZXJJbmZvKTtcbiAgICByZXR1cm4gYWRkT25Qcm9taXNlO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgY29yZSBtZXRob2QgdG8gcHJvdmlkZSBtYW5hZ2VkIHBvbGljaWVzLlxuICAgKiBAcGFyYW0gX2NsdXN0ZXJJbmZvIFxuICAgKiBAcmV0dXJucyBcbiAgICovXG4gIHByb3ZpZGVNYW5hZ2VkUG9saWNpZXMoX2NsdXN0ZXJJbmZvOiBDbHVzdGVySW5mbyk6IGlhbS5JTWFuYWdlZFBvbGljeVtdIHwgdW5kZWZpbmVkIHtcbiAgICByZXR1cm4gdGhpcy52cGNDbmlBZGRPblByb3BzLnNlcnZpY2VBY2NvdW50UG9saWNpZXM7XG4gIH1cblxuICAvKipcbiAgICogT3ZlcnJpZGVzIHRoZSBjb3JlIGFkZG9uIG1ldGhvZCBpbiBvcmRlciB0byByZXBsYWNlIHRoZSBTQSBpZiBleGlzdHMgKHdoaWNoIGlzIHRoZSBjYXNlIGZvciBhd3Mtbm9kZSkuXG4gICAqIEBwYXJhbSBjbHVzdGVySW5mbyBcbiAgICogQHBhcmFtIHNhTmFtZXNwYWNlIFxuICAgKiBAcGFyYW0gcG9saWNpZXMgXG4gICAqIEByZXR1cm5zIFxuICAgKi9cbiAgY3JlYXRlU2VydmljZUFjY291bnQoY2x1c3RlckluZm86IENsdXN0ZXJJbmZvLCBzYU5hbWVzcGFjZTogc3RyaW5nLCBwb2xpY2llczogaWFtLklNYW5hZ2VkUG9saWN5W10pOiBla3MuU2VydmljZUFjY291bnQge1xuICAgIGNvbnN0IHNhID0gbmV3IFJlcGxhY2VTZXJ2aWNlQWNjb3VudChjbHVzdGVySW5mby5jbHVzdGVyLCBgJHt0aGlzLmNvcmVBZGRPblByb3BzLnNhTmFtZX0tc2FgLCB7XG4gICAgICBjbHVzdGVyOiBjbHVzdGVySW5mby5jbHVzdGVyLFxuICAgICAgbmFtZTogdGhpcy5jb3JlQWRkT25Qcm9wcy5zYU5hbWUsXG4gICAgICBuYW1lc3BhY2U6IHNhTmFtZXNwYWNlXG4gICAgfSk7XG5cbiAgICBwb2xpY2llcy5mb3JFYWNoKHAgPT4gc2Eucm9sZS5hZGRNYW5hZ2VkUG9saWN5KHApKTtcbiAgICByZXR1cm4gc2EgYXMgYW55IGFzIGVrcy5TZXJ2aWNlQWNjb3VudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwb3B1bGF0ZVZwY0NuaUNvbmZpZ3VyYXRpb25WYWx1ZXMocHJvcHM/OiBWcGNDbmlBZGRPblByb3BzKTogVmFsdWVzIHtcbiAgaWYgKHByb3BzID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG5cbiAgY29uc3QgcmVzdWx0OiBWYWx1ZXMgPSB7XG4gICAgZW52OiB7XG4gICAgICBBV1NfRUMyX0VORFBPSU5UOiBwcm9wcz8uYXdzRWMyRW5kcG9pbnQsXG4gICAgICBBRERJVElPTkFMX0VOSV9UQUdTOiBwcm9wcz8uYWRkaXRpb25hbEVuaVRhZ3MsXG4gICAgICBBTk5PVEFURV9QT0RfSVA6IHByb3BzPy5hbm5vdGF0ZVBvZElwLFxuICAgICAgQVdTX0VYVEVSTkFMX1NFUlZJQ0VfQ0lEUjogcHJvcHM/LmF3c0V4dGVybmFsU2VydmljZUNpZHJzLFxuICAgICAgQVdTX01BTkFHRV9FTklTX05PTl9TQ0hFRFVMQUJMRTogcHJvcHM/LmF3c01hbmFnZUVuaXNOb25TY2hlZHVsYWJsZSxcbiAgICAgIEFXU19WUENfQ05JX05PREVfUE9SVF9TVVBQT1JUOiBwcm9wcz8uYXdzVnBjQ25pTm9kZVBvcnRTdXBwb3J0LFxuICAgICAgQVdTX1ZQQ19FTklfTVRVOiBwcm9wcz8uYXdzVnBjRW5pTXR1LFxuICAgICAgQVdTX1ZQQ19LOFNfQ05JX0NVU1RPTV9ORVRXT1JLX0NGRzogcHJvcHM/LmF3c1ZwY0s4c0NuaUN1c3RvbU5ldHdvcmtDZmcsXG4gICAgICBBV1NfVlBDX0s4U19DTklfRVhDTFVERV9TTkFUX0NJRFJTOiBwcm9wcz8uYXdzVnBjSzhzRXhjbHVkZVNuYXRDaWRycyxcbiAgICAgIEVOSV9DT05GSUdfTEFCRUxfREVGOiBwcm9wcz8uZW5pQ29uZmlnTGFiZWxEZWYsXG4gICAgICBFTklfQ09ORklHX0FOTk9UQVRJT05fREVGOiBwcm9wcz8uZW5pQ29uZmlnQW5ub3RhdGlvbkRlZixcbiAgICAgIEFXU19WUENfSzhTX0NOSV9FWFRFUk5BTFNOQVQ6IHByb3BzPy5hd3NWcGNLOHNDbmlFeHRlcm5hbFNuYXQsXG4gICAgICBBV1NfVlBDX0s4U19DTklfTE9HTEVWRUw6IHByb3BzPy5hd3NWcGNLOHNDbmlMb2dMZXZlbCxcbiAgICAgIEFXU19WUENfSzhTX0NOSV9MT0dfRklMRTogcHJvcHM/LmF3c1ZwY0s4c0NuaUxvZ0ZpbGUsXG4gICAgICBBV1NfVlBDX0s4U19DTklfUkFORE9NSVpFU05BVDogcHJvcHM/LmF3c1ZwY0s4c0NuaVJhbmRvbWl6ZVNuYXQsXG4gICAgICBBV1NfVlBDX0s4U19DTklfVkVUSFBSRUZJWDogcHJvcHM/LmF3c1ZwY0s4c0NuaVZldGhQcmVmaXgsXG4gICAgICBBV1NfVlBDX0s4U19QTFVHSU5fTE9HX0ZJTEU6IHByb3BzPy5hd3NWcGNLOHNQbHVnaW5Mb2dGaWxlLFxuICAgICAgQVdTX1ZQQ19LOFNfUExVR0lOX0xPR19MRVZFTDogcHJvcHM/LmF3c1ZwY0s4c1BsdWdpbkxvZ0xldmVsLFxuICAgICAgQ0xVU1RFUl9FTkRQT0lOVDogcHJvcHM/LmNsdXN0ZXJFbmRwb2ludCxcbiAgICAgIERJU0FCTEVfTEVBS0VEX0VOSV9DTEVBTlVQOiBwcm9wcz8uZGlzYWJsZUxlYWtlZEVuaUNsZWFudXAsXG4gICAgICBESVNBQkxFX0lOVFJPU1BFQ1RJT046IHByb3BzPy5kaXNhYmxlSW50cm9zcGVjdGlvbixcbiAgICAgIERJU0FCTEVfTUVUUklDUzogcHJvcHM/LmRpc2FibGVNZXRyaWNzLFxuICAgICAgRElTQUJMRV9ORVRXT1JLX1JFU09VUkNFX1BST1ZJU0lPTklORzogcHJvcHM/LmRpc2FibGVuZXR3b3JrUmVzb3VyY2VQcm92aXNpb25pbmcsXG4gICAgICBESVNBQkxFX1RDUF9FQVJMWV9ERU1VWDogcHJvcHM/LmRpc2FibGVUY3BFYXJseURlbXV4LFxuICAgICAgRU5BQkxFX0JBTkRXSURUSF9QTFVHSU46IHByb3BzPy5lbmFibGVCYW5kd2lkdGhQbHVnaW4sXG4gICAgICBFTkFCTEVfTkZUQUJMRVM6IHByb3BzPy5lbmFibGVOZnRhYmxlcyxcbiAgICAgIEVOQUJMRV9QT0RfRU5JOiBwcm9wcz8uZW5hYmxlUG9kRW5pLFxuICAgICAgRU5BQkxFX1BSRUZJWF9ERUxFR0FUSU9OOiBwcm9wcz8uZW5hYmxlUHJlZml4RGVsZWdhdGlvbixcbiAgICAgIEVOQUJMRV9WNl9FR1JFU1M6IHByb3BzPy5lbmFibGVWNkVncmVzcyxcbiAgICAgIElOVFJPU1BFQ1RJT05fQklORF9BRERSRVNTOiBwcm9wcz8uaW50cm9zcGVjdGlvbkJpbmRBZGRyZXNzLFxuICAgICAgTUFYX0VOSTogcHJvcHM/Lm1heEVuaSxcbiAgICAgIE1JTklNVU1fSVBfVEFSR0VUOiBwcm9wcz8ubWluaW11bUlwVGFyZ2V0LFxuICAgICAgUE9EX1NFQ1VSSVRZX0dST1VQX0VORk9SQ0lOR19NT0RFOiBwcm9wcz8ucG9kU2VjdXJpdHlHcm91cEVuZm9yY2luZ01vZGUsXG4gICAgICBXQVJNX0VOSV9UQVJHRVQ6IHByb3BzPy53YXJtRW5pVGFyZ2V0LFxuICAgICAgV0FSTV9JUF9UQVJHRVQ6IHByb3BzPy53YXJtSXBUYXJnZXQsXG4gICAgICBXQVJNX1BSRUZJWF9UQVJHRVQ6IHByb3BzPy53YXJtUHJlZml4VGFyZ2V0LFxuICAgIH0sXG4gICAgZW5hYmxlTmV0d29ya1BvbGljeTogSlNPTi5zdHJpbmdpZnkocHJvcHM/LmVuYWJsZU5ldHdvcmtQb2xpY3kpLFxuICAgIGVuYWJsZVdpbmRvd3NJcGFtOiBKU09OLnN0cmluZ2lmeShwcm9wcz8uZW5hYmxlV2luZG93c0lwYW0pXG4gIH07XG5cbiAgLy8gY2xlYW4gdXAgYWxsIHVuZGVmaW5lZFxuICBjb25zdCB2YWx1ZXMgPSByZXN1bHQuZW52O1xuICBPYmplY3Qua2V5cyh2YWx1ZXMpLmZvckVhY2goa2V5ID0+IHZhbHVlc1trZXldID09PSB1bmRlZmluZWQgPyBkZWxldGUgdmFsdWVzW2tleV0gOiB7fSk7XG4gIE9iamVjdC5rZXlzKHZhbHVlcykuZm9yRWFjaChrZXkgPT4gdmFsdWVzW2tleV0gPSB0eXBlb2YgdmFsdWVzW2tleV0gIT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkodmFsdWVzW2tleV0pIDogdmFsdWVzW2tleV0pO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG4iXX0=